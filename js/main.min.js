function animateThumb(e){var a=[],t=[],o=TweenMax;"briana"===e?(a.push("#bThumb"),t.push("#bFace")):"corey"===e?(a.push("#cThumb"),t.push("#cFace")):"both"===e&&(a.push("#bThumb","#cThumb"),t.push("#bFace","#cFace")),handAni(a,o),faceAni(t,o)}function handAni(e,a){e.map(function(e){var t=30,o=-15,n=-15;"#cThumb"===e&&(t=-30,n=15),a.set(e,{alpha:1}),a.from(e,.5,{alpha:0,x:n,y:o,ease:Power3.easeOut}),a.fromTo(e,1,{rotation:0},{rotation:t,yoyo:!0,repeat:1,delay:.25,ease:Power3.easeOut})})}function faceAni(e,a){e.map(function(e){var t=30;"#cFace"===e&&(t=-30),a.set(e,{alpha:1,x:t}),a.from(e,2,{alpha:0,y:-100,ease:Elastic.easeOut.config(1,.3)})})}function smoothScrolling(){$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var a=$(this.hash);a=a.length?a:$("[name="+this.hash.slice(1)+"]"),a.length&&(e.preventDefault(),$("html, body").animate({scrollTop:a.offset().top},1e3,function(){var e=$(a);return e.focus(),!e.is(":focus")&&(e.attr("tabindex","-1"),void e.focus())}))}})}function hamMenu(){$(".hamburger").click(function(){$("div.hamburger").toggleClass("active"),$("ul.menu").toggleClass("show")})}function countdown(){var e=new Date("Aug 4, 2018 18:00:00").getTime(),a=setInterval(function(){var t=(new Date).getTime(),o=e-t,n=Math.floor(o/864e5),s=Math.floor(o%864e5/36e5),i=Math.floor(o%36e5/6e4),r=Math.floor(o%6e4/1e3);document.querySelector(".countdown").innerHTML=n+"d "+s+"h "+i+"m "+r+"s ",o<0&&(clearInterval(a),document.getElementById("demo").innerHTML="EXPIRED")},1e3)}function updateRsvpList(e,a){var t=ref.child(a.toString());forWho=e[4],t.update({2:!0});var o=e[3].associated;e[3].associated.length>0?offerAssociates(o):showConfirmation()}function offerAssociates(e){for(var a=$("<fieldset>"),t=0;t<e.length;t++){var o=e[t];if(o[2]===!1){var n=rsvpList[o],s=n[0]+" "+n[1]+" ",i=n[0]+n[1],r=$("<label>");r.text(s),r.attr({"for":i}),r.appendTo(a);var c=$('<input type="checkbox">').attr({id:i,name:"rsvp"});c.data("id",o),c.appendTo(a)}}a.insertAfter($("#alsoRSVP h4")),$("#rsvpForm").hide(500,function(){$("#rsvpForm").toggleClass("hidden"),0===$("#alsoRSVP fieldset").length?showConfirmation(forWho):$("#alsoRSVP").show(500,function(){$("#alsoRSVP").toggleClass("hidden")})}),$("#alsoRSVP").submit(function(e){e.preventDefault();var a=checkboxValues();a.forEach(function(e){var a=rsvpList[e],t=a[0]+" "+a[1];rsvpSessionNames.push(t);var o=ref.child(e.toString());o.update({2:!0})}),$("#alsoRSVP").hide(500,function(){$("#alsoRSVP").toggleClass("hidden"),showConfirmation(forWho)})})}function showConfirmation(e){if(1===rsvpSessionNames.length)$("#confirmation").text("Yay, "+rsvpSessionNames[0]+", did it!");else if(rsvpSessionNames.length>1){var a="Yay, ",t=" are RSVP'D!",o=rsvpSessionNames.join(", ");$("#confirmation").text(a+o+t)}else $("#confirmation").text("Looks like you have already confirmed!"),$("#rsvpForm").hide(500,function(){$("#rsvpForm").toggleClass("hidden")});$("#confirmation").show(500,function(){$("#confirmation").toggleClass("hidden")}),animateThumb(e)}function checkboxValues(){var e=[];return $("#alsoRSVP input:checked").each(function(){e.push($(this).data("id"))}),e}function getGuestList(e){e.on("value",gotData,errData)}function rsvpSubmit(){$("#rsvpForm").submit(function(e){e.preventDefault();var a=$("#inputFirstName").val().toLowerCase(),t=$("#inputLastName").val().toLowerCase(),o=a+" "+t;keys.map(function(e,a){var t=rsvpList[e],n=t[0]+" "+t[1];n===o&&(t[2]?(showConfirmation(),console.log("already rsvp")):(rsvpSessionNames.push(n),updateRsvpList(t,a)))})})}function init(){getGuestList(ref),countdown(),hamMenu(),smoothScrolling(),rsvpSubmit()}function gotData(e){rsvpList=e.val(),keys=Object.keys(e.val())}function errData(e){console.log("err"),console.log(e)}var config={apiKey:"AIzaSyCcNA4oTGuKy3e99W0wn4_4Zz41jf4Vdbc",authDomain:"weddinglist-1a717.firebaseapp.com",databaseURL:"https://weddinglist-1a717.firebaseio.com",projectId:"weddinglist-1a717",storageBucket:"weddinglist-1a717.appspot.com",messagingSenderId:"510672576648"};firebase.initializeApp(config);var database=firebase.database(),ref=database.ref("masterSheet"),rsvpList,keys,rsvpSessionNames=[],forWho;$(function(){init()});